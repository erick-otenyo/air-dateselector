!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.AirDateTimeselector=e():t.AirDateTimeselector=e()}(this,(()=>(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function i(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof t?e.querySelector(t):t}function s(){let{tagName:t="div",className:e="",innerHtml:i="",id:s="",attrs:o={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=document.createElement(t);return e&&n.classList.add(...e.split(" ")),s&&(n.id=s),i&&(n.innerHTML=i),o&&function(t,e){for(let[i,s]of Object.entries(e))void 0!==s&&t.setAttribute(i,s)}(n,o),n}function o(t){let e=t.getHours(),{hours:i,dayPeriod:s}=function(t){return{dayPeriod:t>11?"pm":"am",hours:t%12==0?12:t%12}}(e);return{year:t.getFullYear(),month:t.getMonth(),fullMonth:t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,date:t.getDate(),fullDate:t.getDate()<10?"0"+t.getDate():t.getDate(),day:t.getDay(),hours:e,fullHours:n(e),hours12:i,dayPeriod:s,fullHours12:n(i),minutes:t.getMinutes(),fullMinutes:t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()}}function n(t){return t<10?"0"+t:t}function a(t,e){return!(!t||t===document||t instanceof DocumentFragment)&&(t.matches(e)?t:a(t.parentNode,e))}t.d(e,{default:()=>c});class l{constructor(t){let{dts:e,opts:i}=t;this.dts=e,this.opts=i,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents()}_createElement(){this.$el=s({tagName:"nav",className:"air-dts-nav"})}_buildBaseHtml(){this.$el.innerHTML='<div class="air-dts-nav--action" data-action="prevTime"><svg><path d="M 17,12 l -5,5 l 5,5"></path></svg></div><button class="air-dts-nav--title"></button><div class="air-dts-nav--action" data-action="nextTime"><svg><path d="M 14,12 l 5,5 l -5,5"></path></svg></div>'}_defineDOM(){this.$title=i(".air-dts-nav--title",this.$el),this.$prevTime=i('[data-action="prevTime"]',this.$el),this.$nextTime=i('[data-action="nextTime"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle),this.$title.addEventListener("blur",this._onBlur)}_onBlur=t=>{!this.dts.portal.inFocus&&this.dts.portal.visible&&this.dts.portal.hide()};_getTitle(){let{dts:t,opts:e}=this,i=e.dateFormat;return t.formatDate(t.selectedDate,i)}_disableNav(t){i('[data-action="'+t+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){removeClass(this.$el.querySelectorAll(".air-dts-nav--action"),"-disabled-")}onClickNav=t=>{let e=a(t.target,".air-dts-nav--action");if(!e)return;let i=e.dataset.action;this.dts[i]()};onClickNavTitle=()=>{this.dts.toggleSelector()};handleNavStatus(){let{minDate:t,maxDate:e,parsedSelectedDate:i}=this.dts,s=!!t&&o(t),n=!!e&&o(e);t&&s>=i&&this._disableNav("prevTime"),e&&n<=i&&this._disableNav("nextTime")}renderDelay=()=>{setTimeout(this.render)};render=()=>{this.$title.innerHTML=this._getTitle()}}let r="",d=!1;class h{static defaultGlobalContainerId="air-dts-portal-container";static buildGlobalContainer(t){d=!0,r=s({className:t,id:t}),i("body").appendChild(r)}constructor(t){let{dts:e,opts:i}=t;this.dts=e,this.opts=i,this.$portal=s({className:"air-dts air-dts-portal"}),this.inited=!1,this.visible=!1,this.inFocus=!1,this.init()}init(){let t=i("body");(!d||d&&r&&!t.contains(r))&&h.buildGlobalContainer(h.defaultGlobalContainerId),this._bindEvents()}_bindEvents(){this.$portal.addEventListener("mousedown",this._onMouseDown),this.$portal.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_onMouseDown=t=>{this.inFocus=!0};_onMouseUp=t=>{this.inFocus=!1,this.dts.nav.$title.focus()};_onResize=()=>{this.visible&&this.setPosition()};toggleVisibility(){this.visible?this.hide():this.show()}show(){this.visible||this._createComponents(),this.setPosition(),this.$portal.classList.add("-active-"),this.visible=!0}hide(){this.visible=!1,this.$portal.classList.remove("-active-"),this._destroyComponents(),this.$container.removeChild(this.$portal)}_setPositionClasses(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bottom left";t=t.split(" ");let e=t[0],i=`-${e}-${t[1]}- -from-${e}-`;this.$portal.classList.add(...i.split(" "))}setPosition=()=>{let t,e,i=this.dts.$el.getBoundingClientRect(),s=this.dts.$el.getBoundingClientRect(),o=this.$portal.offsetParent,n=this.dts.$el.offsetParent,a=this.$portal.getBoundingClientRect(),l="bottom left".split(" "),r=window.scrollY,d=window.scrollX,h=this.opts.offset,c=l[0],u=l[1];if(o===n&&o!==document.body&&(s={top:this.$el.offsetTop,left:this.$el.offsetLeft,width:i.width,height:this.$el.offsetHeight},r=0,d=0),o!==n&&o!==document.body){let t=o.getBoundingClientRect();s={top:i.top-t.top,left:i.left-t.left,width:i.width,height:i.height},r=0,d=0}switch(c){case"top":t=s.top-a.height-h;break;case"right":e=s.left+s.width+h;break;case"bottom":t=s.top+s.height+h;break;case"left":e=s.left-a.width-h}switch(u){case"top":t=s.top;break;case"right":e=s.left+s.width-a.width;break;case"bottom":t=s.top+s.height-a.height;break;case"left":e=s.left;break;case"center":/left|right/.test(c)?t=s.top+s.height/2-a.height/2:e=s.left+s.width/2-a.width/2}this.$portal.style.cssText=`left: ${e+d}px; top: ${t+r}px`};_destroyComponents(){}get $container(){return r}_createComponents(){this._buildBaseHtml(),this._setPositionClasses()}_buildBaseHtml(){this.$container.appendChild(this.$portal),this.$portal.innerHTML='<div class="air-dts--content">Hello World</div>',this.$content=i(".air-dts--content",this.$portal)}render(){}}class c{constructor(t,e){this.$el=i(t),this.$el&&(this.$nav=s({className:"air-dts air-dts--navigation"}),this.$el.appendChild(this.$nav),this.opts=e,this.init())}init(){this._createComponents(),this._bindEvents()}closePortal=()=>{this.portal.hide()};_createComponents(){let{opts:t}=this;this.nav=new l({dts:this,opts:t}),this.$nav.appendChild(this.nav.$el),t={...t,offset:2},this.portal=new h({dts:this,opts:t})}_bindEvents(){this.$nav.addEventListener("blur",this._onBlur)}_onBlur=t=>{console.log("blur")};formatDate(){return arguments.length>0&&void 0!==arguments[0]||this.selectedDate,"2024-01-01 00:00 AM"}toggleSelector(){this.portal.toggleVisibility()}prevTime(){console.log("prevTime")}nextTime(){console.log("nextTime")}render(){}}return e.default})()));